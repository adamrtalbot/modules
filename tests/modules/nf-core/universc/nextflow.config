process {
    withName: 'UNIVERSC' {
        ext.args = {
            [
                "--verbose",
                meta.technology ? "--technology ${meta.technology}" : "",
                meta.chemistry  ? "--chemistry ${meta.chemistry}"   : "",
                meta.samples    ? "--description ${meta.samples.unique().join(',')}" : "",
                "--per-cell-data",
            ].join(" ").trim()
        }
        container = "nf-core/universc:1.2.5.1"
    }
    withName: CELLRANGER_MKGTF {
        container = "nf-core/universc:1.2.5.1"
    }
    withName: CELLRANGER_MKREF{
       container = "nf-core/universc:1.2.5.1"
    }
    publishDir = { "${params.outdir}/${task.process.tokenize(':')[-1].tokenize('_')[0].toLowerCase()}" }
}
